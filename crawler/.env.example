# STAC Crawler Configuration
# Copy this file to .env and adjust values as needed

# URI of the Postgres/PostGis Host
PGHOST=example_db_URL
# Postgres/PostGis Port
PGPORT=5432
# Postgres/PostGis user
PGUSER=example_user
# Postgres/PostGis password
PGPASSWORD=example_password
# Postgres/PostGis databse
PGDATABASE=example_db

# For single Crawler run:
# 'catalogs', 'apis', or 'both'
CRAWL_MODE=both
# Fresh crawl - clear crawl log and re-crawl all collections (true/false, default: false)
FRESH_CRAWL=false
# Maximum Static Catalogs that are crawled (0 ist unlimited) 
MAX_CATALOGS=0
# Maximum API Catalogs that are crawled (0 ist unlimited)
MAX_APIS=0
# Timeout of connection of crawler
TIMEOUT_MS=30000

# Scheduler Configuration
# How many days between crawl runs (default: 7)
CRAWL_DAYS_INTERVAL=7
# Run crawler immediately on startup (true/false, default: true)
CRAWL_RUN_ON_STARTUP=true
# Retry if crawl fails but DB is ok (true/false, default: true)
CRAWL_RETRY_ON_ERROR=true
# Hours to wait before retry on crawl error (default: 2)
CRAWL_RETRY_DELAY_HOURS=2

# Time Window Configuration (only active when CRAWL_ENFORCE_TIME_WINDOW=true)
# By default, crawler runs anytime. Set CRAWL_ENFORCE_TIME_WINDOW=true to restrict crawling to specific hours
# Enforce time window (true/false, default: false - crawler runs anytime)
CRAWL_ENFORCE_TIME_WINDOW=false
# Hour when crawler is allowed to start (0-23, e.g. 22 for 10 PM) - only used when time window is enforced
CRAWL_ALLOWED_START_HOUR=22
# Hour when crawler should stop (0-23, e.g. 7 for 7 AM) - only used when time window is enforced
CRAWL_ALLOWED_END_HOUR=7
# Grace period in minutes after end hour (default: 30) - only used when time window is enforced
CRAWL_GRACE_PERIOD_MINUTES=30